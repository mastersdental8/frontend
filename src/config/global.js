// live url
export const BASE_URL = "https://backend-ifm4.onrender.com/api/";
export const BASE_URL_WiTHOUT_API = "https://backend-ifm4.onrender.com/";
// local url 
// export const BASE_URL = "http://localhost:3000/api/";
// export const BASE_URL_WiTHOUT_API = "http://localhost:3000/";

export const Roles = [0,1,2,3,4,5,6,7,8];
export const naturalOfWorks = [
  {
    id: 1,
    name: "Zircon",
    color: "#b7cced",
  },
  {
    id: 2,
    name: "Full Zircon",
    color: "#ff000085",
  },
  {
    id: 3,
    name: "E-Max Crown",
    color: "#7bff7b",
  },
  {
    id: 4,
    name: "Veneer",
    color: "#6dfff2",
  },
  {
    id: 5,
    name: "Non - Prep Veneer",
    color: "pink",
  },
  {
    id: 6,
    name: "E-Max / Inlay/ Onlay",
    color: "#FFFF56",
  },
  {
    id: 7,
    name: "Post & Core",
    color: "rgb(255 171 111)",
  },
  {
    id: 8,
    name: "Composite",
    color: "rgb(226 110 255)",
  },
  {
    id: 9,
    name: "Custom Made Abutment",
    color: "rgb(213 255 85)",
  },
  {
    id: 10,
    name: "Screw Retain Crown",
    color: "rgb(117 132 155 / 79%)",
  },
  {
    id: 11,
    name: "Bleaching Tray",
    color: "rgb(32 201 151 / 66%)",
  },
  {
    id: 12,
    name: "Night Guard",
    color: "rgb(160 255 113 / 66%)",
  },
  {
    id: 13,
    name: "Study",
    color: "rgb(140 113 255 / 66%)",
  },
  {
    id: 14,
    name: "pontic",
    color: "rgb(255 44 0)",
  },
  {
    id: 14,
    name: "Temporary",
    color: "rgb(89 103 255)",
  },
  {
    id: 15,
    name: "Cantilever Bridge",
    color: "rgb(245 153 222)",
  },
  {
    id: 16,
    name: "Endo Crown",
    color: "rgb(67 203 255)",
  },
  {
    id: 16,
    name: "ESSIX RETAINER",
    color: "rgb(13 110 253 / 69%)",
  },
  {
    id: 17,
    name: "Mereland Bridge",
    color: "rgb(91 91 91 / 33%)",
  },
  {
    id: 18,
    name: "Metal",
    color: "rgb(149 62 4 / 33%)",
  },
];
export const numOfTeeth = {
  teeth_top_left: [
    {
      id: 1,
      name: "11",
      color: "red",
      naturalOfWorks:[],
    },
    {
      id: 2,
      name: "12",
      color: "blud",
      naturalOfWorks: [],
    },
    {
      id: 3,
      name: "13",
      color: "green",
      naturalOfWorks: [],
    },
    {
      id: 4,
      name: "14",
      color: "pink",
      naturalOfWorks: [],
    },
    {
      id: 5,
      name: "15",
      color: "black",
      naturalOfWorks: [],
    },
    {
      id: 6,
      name: "16",
      color: "yellow",
      naturalOfWorks: [],
    },
    {
      id: 7,
      name: "17",
      color: "#f8f9fa",
      naturalOfWorks: [],
    },
    {
      id: 8,
      name: "18",
      color: "#ffc107",
      naturalOfWorks: [],
    },
  ],
  teeth_top_right: [
    {
      id: 9,
      name: "21",
      color: "#212529",
      naturalOfWorks: [],
    },
    {
      id: 10,
      name: "22",
      naturalOfWorks: [],
    },
    {
      id: 11,
      name: "23",
      color: "#0dcaf0",
      naturalOfWorks: [],
    },
    {
      id: 12,
      name: "24",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 13,
      name: "25",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 14,
      name: "26",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 15,
      name: "27",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 16,
      name: "28",
      color: "#20c997",
      naturalOfWorks: [],
    },
  ],
  teeth_bottom_right: [
    {
      id: 17,
      name: "31",
      color: "#212529",
      naturalOfWorks: [],
    },
    {
      id: 18,
      name: "32",
      naturalOfWorks: [],
    },
    {
      id: 19,
      name: "33",
      color: "#0dcaf0",
      naturalOfWorks: [],
    },
    {
      id: 20,
      name: "34",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 21,
      name: "35",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 22,
      name: "36",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 23,
      name: "37",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 24,
      name: "38",
      color: "#20c997",
      naturalOfWorks: [],
    },
  ],
  teeth_bottom_left: [
    {
      id: 25,
      name: "41",
      color: "#212529",
      naturalOfWorks: [],
    },
    {
      id: 26,
      name: "42",
      naturalOfWorks: [],
    },
    {
      id: 27,
      name: "43",
      color: "#0dcaf0",
      naturalOfWorks: [],
    },
    {
      id: 28,
      name: "44",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 29,
      name: "45",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 30,
      name: "46",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 31,
      name: "47",
      color: "#20c997",
      naturalOfWorks: [],
    },
    {
      id: 33,
      name: "48",
      color: "#20c997",
      naturalOfWorks: [],
    },
  ],
};
export const allRoles= {
    admin: 0,
    manager: 1,
    teamleader: 2,
    technician: 3,
    Reception: 4,
    Driver: 5,
    graphic_design: 6,
    shared_role: 7,
    super_admin: 8,
}
 export const getFormateDate = (timestamp, isTime) => {
   if (timestamp) {
     let date = new Date(timestamp);
     // Extract year, month, day, and hour
     let year = date.getFullYear();
     let month = ("0" + (date.getMonth() + 1)).slice(-2); // Month is zero-based, so we add 1
     let day = ("0" + date.getDate()).slice(-2);
     let hour = ("0" + date.getHours()).slice(-2);
     let minutes = ("0" + date.getMinutes()).slice(-2);
     let ampm = hour >= 12 ? "PM" : "AM";
     hour = hour % 12;
     hour = hour ? hour : 12;
     let formattedDate
     if(isTime){
       formattedDate = `${(year, month, day)}`
     }
     else {
      formattedDate = `${(year, month, day)} : ${hour}:${minutes} ${ampm}`
     }
     return `${year}, ${month}, ${day}  : ${hour}:${minutes} ${ampm}`;
   } else {
     return "";
   }
 };
  export const timeFromDate = (timestamp) => {
    if (timestamp) {
      let date = new Date(timestamp);
      // Extract year, month, day, and hour
      let year = date.getFullYear();
      let month = ("0" + (date.getMonth() + 1)).slice(-2); // Month is zero-based, so we add 1
      let day = ("0" + date.getDate()).slice(-2);
      let hour = ("0" + date.getHours()).slice(-2);
      let minutes = ("0" + date.getMinutes()).slice(-2);
      let ampm = hour >= 12 ? "PM" : "AM";
      hour = hour % 12;
      hour = hour ? hour : 12;
      return `${hour}:${minutes} ${ampm}`;
    } else {
      return "";
    }
  };
  export const formatDateToYYYYMMDD = (timestamp) => {
    let date = new Date(timestamp);
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are zero-indexed
    const day = String(date.getDate()).padStart(2, '0');

    return `${year}-${month}-${day}`;
  };

  export const getDaysfromTowDates =(dateOne,datetow)=>{
    const date1 = new Date(formatDateToYYYYMMDD(dateOne));
    const date2 = new Date(formatDateToYYYYMMDD(datetow));
    const diffTime = Math.abs(date2 - date1);
    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)); 
    return diffDays;
  }
  export const groupAndSortCases = (cases) => {
    return cases
    .sort((a, b) => {
      // First, compare by dentist name
      const nameA = a.dentistObj?.name || "";
      const nameB = b.dentistObj?.name || "";
      if (nameA !== nameB) {
        return nameA.localeCompare(nameB); // Alphabetical order
      }

      // If dentist name is the same, sort by dateIn
      return new Date(b.dateIn) - new Date(a.dateIn);
    });
  };
  
  export const filterCasesByDate = (cases, filterType, selectedDate = null) => {
    const today = new Date();
    const startOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);
    const startOfPrevMonth = new Date(today.getFullYear(), today.getMonth() - 1, 1);
    const endOfPrevMonth = new Date(today.getFullYear(), today.getMonth(), 0);
  
    return cases.filter(caseItem => {
      let caseDate = new Date(caseItem.dateIn); // Convert dateIn to Date object
      // if(casesType === "all"){
      //    caseDate = new Date(caseItem.dateIn); // Convert dateIn to Date object
      // }
      // if (filterType ==="FinishedCases") {
      //    caseDate = new Date(caseItem.dateIn); // Convert dateIn to Date object
      // }
  
      if (filterType === "currentMonth") {
        return caseDate >= startOfMonth && caseDate <= today;
      }
  
      if (filterType === "previousMonth") {
        return caseDate >= startOfPrevMonth && caseDate <= endOfPrevMonth;
      }
  
      if (filterType === "selectedDate" && selectedDate) {
        const selectedStartDate = new Date(selectedDate.start);
        const selectedEndDate = new Date(selectedDate.end);
        return caseDate >= selectedStartDate && caseDate <= selectedEndDate;
      }
  
      return false; // If filter type doesn't match, return false
    });
  };
  export const transformData = (data) => {
    // Function to recursively transform _id, createdAt, and updatedAt
    const transformRecursively = (obj) => {
      if (obj && typeof obj === 'object') {
        if (Array.isArray(obj)) {
          // If it's an array, recursively transform each item
          obj.forEach((item) => transformRecursively(item));
        } else {
          // For an object, check each key
          Object.keys(obj).forEach((key) => {
            // Transform _id field
            if (key === '_id' && obj[key]) {
              obj[key] = { "$oid": obj[key].toString() };  // Convert _id to {"$oid": "_id"}
            }
            // Transform createdAt field
            else if (key === 'createdAt' && obj[key]) {
              const createdAtDate = new Date(obj[key]);
              if (!isNaN(createdAtDate)) {
                obj[key] = { "$date": createdAtDate.toISOString() };  // Convert createdAt to {"$date": "createdAt date"}
              }
            }
            // Transform updatedAt field
            else if (key === 'updatedAt' && obj[key]) {
              const updatedAtDate = new Date(obj[key]);
              if (!isNaN(updatedAtDate)) {
                obj[key] = { "$date": updatedAtDate.toISOString() };  // Convert updatedAt to {"$date": "updatedAt date"}
              }
            }
  
            // Recursively process nested objects or arrays
            transformRecursively(obj[key]);
          });
        }
      }
    };
  
    // Create a deep copy of the data and transform it
    let transformedData = JSON.parse(JSON.stringify(data)); // Create a deep copy of the data
    transformRecursively(transformedData);  // Apply transformation recursively
  
    return transformedData;
  };
  
